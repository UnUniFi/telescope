<h2 class="mb-0">Derivatives Dashboard</h2>
<h3 class="mb-0 ml-4">Stats</h3>
<mat-card class="mb-4 mat-elevation-z8">
  <mat-card-title>Pool Overview</mat-card-title>
  <mat-list>
    <mat-list-item>
      <span class="break-all truncate pr-4">Pool Value:</span>
      <span class="flex-auto"></span>
      <span class="break-all truncate">$ {{ pool?.pool_market_cap?.total | number }}</span>
      <mat-divider></mat-divider>
    </mat-list-item>
    <mat-list-item>
      <span class="break-all truncate pr-4">24h Volume:</span>
      <span class="flex-auto"></span>
      <span class="break-all truncate">$ {{ pool?.volume_24hours | number }}</span>
      <mat-divider></mat-divider>
    </mat-list-item>
    <mat-list-item>
      <span class="break-all truncate pr-4">24h Fees:</span>
      <span class="flex-auto"></span>
      <span class="break-all truncate">$ {{ pool?.fees_24hours | number }}</span>
      <mat-divider></mat-divider>
    </mat-list-item>
    <mat-list-item>
      <span class="break-all truncate pr-4">Long Position:</span>
      <span class="flex-auto"></span>
      <span class="break-all truncate"
        >$ {{ perpetualFuturesParams?.long_positions | number }}</span
      >
      <mat-divider></mat-divider>
    </mat-list-item>
    <mat-list-item>
      <span class="break-all truncate pr-4">Short Position:</span>
      <span class="flex-auto"></span>
      <span class="break-all truncate"
        >$ {{ perpetualFuturesParams?.short_positions | number }}</span
      >
    </mat-list-item>
  </mat-list>
</mat-card>

<h3 class="mb-0 ml-4">Markets</h3>
<mat-form-field appearance="fill" class="w-full">
  <mat-label>Market</mat-label>
  <mat-select [(value)]="selectedConfig" (valueChange)="onChangeConfig($event)">
    <mat-option *ngFor="let conf of configs" [value]="conf">
      {{ conf.name }}
    </mat-option>
  </mat-select>
</mat-form-field>
<mat-card class="mb-4 mat-elevation-z8">
  <mat-card-title>{{ selectedConfig.name }}</mat-card-title>
  <mat-card-content>{{ selectedConfig.description }}</mat-card-content>
  <div class="flex flex-row">
    <button
      class="mr-2 px-8"
      mat-flat-button
      color="primary"
      routerLink="{{ selectedConfig.route }}"
      *ngIf="selectedConfig.name === 'Perpetual Futures'"
    >
      <mat-icon>show_chart</mat-icon>
      <span>Trade</span>
    </button>
    <button class="px-8" mat-flat-button color="accent">
      <span>Read more</span>
    </button>
  </div>
</mat-card>

<h3 class="mb-0 ml-4">Tokens</h3>
<!-- To Do Delete: Dummy Card -->
<div class="flex flex-wrap">
  <mat-card
    class="mat-elevation-z8 text-center hover:shadow-xl w-64 m-5"
    *ngFor="let tokenInfo of tokenInfos"
  >
    <mat-card-header>
      <img mat-card-avatar src="{{ tokenInfo.iconUrl }}" />
      <mat-card-title>{{ tokenInfo.name }}</mat-card-title>
      <mat-card-subtitle>{{ tokenInfo.symbol }}</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <mat-list>
        <mat-list-item>
          <span class="whitespace-nowrap">Price:</span>
          <span class="flex-auto"></span>
          <span class="ml-2 break-all text-sm sm:text-base">$ {{ tokenInfo.price }}</span>
          <mat-divider></mat-divider>
        </mat-list-item>
        <mat-list-item>
          <span class="whitespace-nowrap">Pool:</span>
          <span class="flex-auto"></span>
          <span class="ml-2 break-all text-sm sm:text-base">$ {{ tokenInfo.pool }}</span>
          <mat-divider></mat-divider>
        </mat-list-item>
        <mat-list-item>
          <span class="whitespace-nowrap">Weight:</span>
          <span class="flex-auto"></span>
          <span class="ml-2 break-all text-sm sm:text-base">{{ tokenInfo.weight }}%</span>
        </mat-list-item>
      </mat-list>
    </mat-card-content>
  </mat-card>
</div>

<div class="flex flex-wrap">
  <mat-card class="text-center hover:shadow-xl w-64 m-5" *ngFor="let token of tokens">
    <mat-card-header>
      <img mat-card-avatar src="{{ token.iconUrl }}" />
      <mat-card-title>{{ token.name }}</mat-card-title>
      <mat-card-subtitle>{{ token.symbol }}</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <mat-list>
        <mat-list-item>
          <span class="whitespace-nowrap">Price:</span>
          <span class="flex-auto"></span>
          <span class="ml-2 break-all text-sm sm:text-base">$ {{ token.price }}</span>
          <mat-divider></mat-divider>
        </mat-list-item>
        <mat-list-item>
          <span class="whitespace-nowrap">24h Volume:</span>
          <span class="flex-auto"></span>
          <span class="ml-2 break-all text-sm sm:text-base">$ {{ token.volume24h }}</span>
          <mat-divider></mat-divider>
        </mat-list-item>
        <mat-list-item>
          <span class="whitespace-nowrap">24h Fees:</span>
          <span class="flex-auto"></span>
          <span class="ml-2 break-all text-sm sm:text-base">$ {{ token.fees24h }}%</span>
        </mat-list-item>
      </mat-list>
    </mat-card-content>
  </mat-card>
</div>
