<div class="mx-auto max-w-screen-xl">
  <div class="w-full md:w-auto mb-8">
    <div class="card bg-base-100 shadow-xl w-full">
      <div class="card-body">
        <h2 class="card-title">
          {{ 'Vault Name' }}
          <div class="badge badge-primary">#{{ vault?.id }}</div>
          <div class="badge badge-secondary">{{ vault?.denom | coinDenom }}</div>
        </h2>
        <!-- <div class="stats">
          <div class="stat">
            <div class="stat-title">APY</div>
            <div class="stat-value text-secondary">12.34%</div>
            <div class="stat-desc"></div>
          </div>
          <div class="stat">
            <div class="stat-title">TVL</div>
            <div class="stat-value">$ 12.3</div>
            <div class="stat-desc"></div>
          </div>
          <div class="stat">
            <div class="stat-title">Deposited</div>
            <div class="stat-value text-primary">$ 123</div>
            <div class="stat-desc"></div>
          </div>
          <div class="stat">
            <div class="stat-title">Earnings</div>
            <div class="stat-value">$ 12.3</div>
            <div class="stat-desc"></div>
          </div>
        </div> -->
        <div class="overflow-x-auto">
          <table class="table w-full">
            <tbody>
              <tr>
                <th>Vault ID</th>
                <td>{{ vault?.id }}</td>
              </tr>
              <tr>
                <th>Vault Name</th>
                <td>{{ 'Coming soon' }}</td>
              </tr>
              <tr>
                <th>Owner</th>
                <td>{{ vault?.owner }}</td>
              </tr>
              <tr>
                <th>Owner's Deposit</th>
                <td>{{ vault?.owner_deposit | coin }}</td>
              </tr>
              <tr>
                <th>Withdraw Commission Rate</th>
                <td>{{ vault?.withdraw_commission_rate | percentage }}</td>
              </tr>
              <tr>
                <th>Withdraw Reserve Rate</th>
                <td>{{ vault?.withdraw_reserve_rate | percentage }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <div class="w-full md:w-auto mb-8">
    <div class="card bg-base-100 shadow-xl w-full">
      <div class="tabs tabs-boxed w-full">
        <a class="tab tab-lg w-1/2" [class.tab-active]="tab === 'mint'" (click)="tab = 'mint'"
          >Mint</a
        >
        <a class="tab tab-lg w-1/2" [class.tab-active]="tab === 'burn'" (click)="tab = 'burn'"
          >Burn</a
        >
      </div>
      <div class="card-body" *ngIf="tab === 'mint'">
        <form>
          <div class="form-control">
            <label class="label">
              <span class="label-text">Enter amount</span>
            </label>
            <label class="input-group">
              <input type="number" placeholder="0.123456" class="input input-bordered w-full" />
              <label class="label">axlUSDC</label>
            </label>
            <label class="label">
              <span class="label-text-alt">Available balance:</span>
              <span class="label-text-alt">23.4 axlUSDC</span>
            </label>
          </div>

          <div class="form-control">
            <label class="label">
              <span class="label-text">You will receive</span>
            </label>
            <label class="input-group">
              <input disabled class="input input-bordered w-full" value="0" />
              <span>YA/axlUSDC</span>
            </label>
          </div>

          <div class="card-actions justify-end mt-8">
            <button class="btn btn-primary px-8">Deposit to mint</button>
          </div>
        </form>
      </div>
      <div class="card-body" *ngIf="tab === 'burn'">
        <form>
          <div class="form-control">
            <label class="label">
              <span class="label-text">Enter amount</span>
            </label>
            <label class="input-group">
              <input type="number" placeholder="0.123456" class="input input-bordered w-full" />
              <span>YA/axlUSDC</span>
            </label>
            <label class="label">
              <span class="label-text-alt">Available balance:</span>
              <span class="label-text-alt">23.4 YA/axlUSDC</span>
            </label>
          </div>
          <div class="form-control">
            <label class="label">
              <span class="label-text">You will receive</span>
            </label>
            <label class="input-group">
              <input disabled class="input input-bordered w-full" value="0" />
              <span>axlUSDC</span>
            </label>
          </div>

          <div class="card-actions justify-end mt-8">
            <button class="btn btn-secondary px-8">Burn to Redeem</button>
          </div>
        </form>
      </div>
    </div>
  </div>
  <h2>Strategies</h2>
  <div class="flex flex-row flex-wrap -mr-12 -mb-12">
    <div
      *ngFor="let strategy of vault?.strategy_weights; let i = index"
      class="pr-12 pb-12 w-full md:w-1/2 xl:w-1/3"
    >
      <div class="card bg-base-100 shadow-xl w-full">
        <div class="card-body">
          <div class="flex flex-row">
            <div class="badge badge-lg badge-primary mr-1">{{ strategy.strategy_id }}</div>
          </div>
          <h2 class="card-title break-all">
            {{ 'Strategy Name' }}
          </h2>
          <div class="stats">
            <div class="stat">
              <div class="stat-title">Allocation weight</div>
              <div class="stat-value">{{ strategy.weight | percentage }}</div>
              <div class="stat-desc"></div>
            </div>
          </div>

          <button
            routerLink="/yield-aggregator/strategies/{{ vault?.denom }}/{{ strategy.strategy_id }}"
            class="btn btn-outline btn-info"
          >
            View
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- <h2 class="mb-0">Vault Info</h2>
<mat-card class="mb-4">
  <mat-card-header>
    <img mat-card-avatar src="{{ vault.iconUrl }}" />
    <mat-card-title>{{ vault.name }}</mat-card-title>
    <mat-card-subtitle>{{ vault.symbol }}</mat-card-subtitle>
  </mat-card-header>
  <mat-list class="mb-4">
    <mat-list-item>
      <span class="whitespace-nowrap">Coin Type:</span>
      <span class="flex-auto"></span>
      <span class="ml-2 break-all text-sm sm:text-base">{{ vault.coinType }}</span>
      <mat-divider></mat-divider>
    </mat-list-item>
    <mat-list-item>
      <span class="whitespace-nowrap">Annual Percentage Yield:</span>
      <span class="flex-auto"></span>
      <span class="ml-2 break-all text-sm sm:text-base">{{ vault.annualPercentageYield }}%</span>
      <mat-divider></mat-divider>
    </mat-list-item>
    <mat-list-item>
      <span class="whitespace-nowrap">Total Value Locked:</span>
      <span class="flex-auto"></span>
      <span class="ml-2 break-all text-sm sm:text-base">${{ vault.totalValueLocked }}</span>
      <mat-divider></mat-divider>
    </mat-list-item>
    <mat-list-item>
      <span class="whitespace-nowrap">Your {{ vault.coinType }} Vault:</span>
      <span class="flex-auto"></span>
      <span class="ml-2 break-all text-sm sm:text-base">${{ vault.depositedAmount }}</span>
      <mat-divider></mat-divider>
    </mat-list-item>
    <mat-list-item>
      <span class="whitespace-nowrap">Your Earned:</span>
      <span class="flex-auto"></span>
      <span class="ml-2 break-all text-sm sm:text-base">${{ vault.earnedAmount }}</span>
    </mat-list-item>
  </mat-list>

  <h3>What is {{ vault.name }}?</h3>
  <mat-card-content>
    {{ vault.description }}
  </mat-card-content>
</mat-card>

<mat-card class="mb-4">
  <mat-button-toggle-group
    class="flex mb-4"
    #tgl="matButtonToggleGroup"
    (change)="onToggleChange(tgl.value)"
    value="deposit"
  >
    <mat-button-toggle class="flex-auto" value="deposit">
      <mat-icon>add_circle</mat-icon>Deposit
    </mat-button-toggle>
    <mat-button-toggle class="flex-auto" value="withdraw">
      <mat-icon>remove_circle</mat-icon>Withdraw
    </mat-button-toggle>
  </mat-button-toggle-group>

  <mat-list class="mb-4">
    <mat-list-item>
      <span class="whitespace-nowrap">Your Wallet Balance:</span>
      <span class="flex-auto"></span>
      <span class="ml-2 break-all text-sm sm:text-base">{{ vault.depositedAmount }} ATOM</span>
      <mat-divider></mat-divider>
    </mat-list-item>
    <mat-list-item>
      <span class="whitespace-nowrap">Your Vault Balance:</span>
      <span class="flex-auto"></span>
      <span class="ml-2 break-all text-sm sm:text-base">{{ vault.depositedAmount }} ATOM</span>
    </mat-list-item>
  </mat-list>

  <ng-container *ngIf="isDeposit; then deposit; else withdraw"></ng-container>
  <div class="flex flex-row content-center items-center">
    <mat-form-field class="flex-auto">
      <ng-template #deposit><mat-label>From Wallet</mat-label></ng-template>
      <ng-template #withdraw><mat-label>From Vault</mat-label></ng-template>
      <input matNativeControl #targetRef name="trade" [(ngModel)]="amount" [min]="0" required />
    </mat-form-field>
    <mat-form-field>
      <mat-select [(value)]="selectedAsset">
        <mat-option *ngFor="let asset of assets" [value]="asset">
          {{ asset }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>

  <ng-container *ngIf="isDeposit; then depositButton; else withdrawButton"></ng-container>
  <ng-template #depositButton>
    <button mat-flat-button class="w-full mt-4" color="accent">Deposit</button>
  </ng-template>
  <ng-template #withdrawButton>
    <button mat-flat-button class="w-full mt-4" color="primary">Withdraw</button>
  </ng-template>
</mat-card>

<mat-card class="mb-4">
  <mat-card-header>
    <mat-card-title>Performance</mat-card-title>
    <mat-card-subtitle>APY History</mat-card-subtitle>
    <span class="flex-auto"></span>
    <mat-form-field appearance="fill">
      <mat-label>Chart Type</mat-label>
      <mat-select [(value)]="selectedConfig" (valueChange)="onChangeConfig($event)">
        <mat-option *ngFor="let conf of configs" [value]="conf">
          {{ conf }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </mat-card-header>
  <div>
    <span class="flex-auto"></span>
    <google-chart
      [title]="chartTitle"
      [type]="chartType"
      [data]="chartData"
      [columns]="chartColumnNames"
      [options]="chartOptions"
    >
    </google-chart>
    <span class="flex-auto"></span>
  </div>
  <h3>APY</h3>
  <mat-list class="mb-4">
    <mat-list-item>
      <span class="whitespace-nowrap">Net APY:</span>
      <span class="flex-auto"></span>
      <span class="ml-2 break-all text-sm sm:text-base">%</span>
      <mat-divider></mat-divider>
    </mat-list-item>
    <mat-list-item>
      <span class="whitespace-nowrap">Weekly APY:</span>
      <span class="flex-auto"></span>
      <span class="ml-2 break-all text-sm sm:text-base">%</span>
      <mat-divider></mat-divider>
    </mat-list-item>
    <mat-list-item>
      <span class="whitespace-nowrap">Monthly APY:</span>
      <span class="flex-auto"></span>
      <span class="ml-2 break-all text-sm sm:text-base">%</span>
      <mat-divider></mat-divider>
    </mat-list-item>
    <mat-list-item>
      <span class="whitespace-nowrap">Gross APR:</span>
      <span class="flex-auto"></span>
      <span class="ml-2 break-all text-sm sm:text-base">%</span>
    </mat-list-item>
  </mat-list>
</mat-card> -->
