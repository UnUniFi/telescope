<h2>Edit Validator information</h2>
<form
  #formRef="ngForm"
  (submit)="
    onSubmitEditValidator(
      monikerRef.value,
      identityRef.value,
      websiteRef.value,
      securityContactRef.value,
      detailsRef.value,
      rateRef.value,
      minSelfDelegationRef.value,
      delegatorAddressRef.value,
      validatorAddressRef.value,
      denomRef.value,
      amountRef.value,
      minimumGasPriceRef.value
    )
  "
>
  <mat-accordion>
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title> Tx Details </mat-panel-title>
        <mat-panel-description>
          This is a Tx Form to edit validator information. All value has been already input.
        </mat-panel-description>
      </mat-expansion-panel-header>
      <mat-form-field class="w-full">
        <mat-label>Moniker</mat-label>
        <input
          #monikerRef
          [(ngModel)]="moniker"
          name="moniker"
          matInput
          type="text"
          required
          readonly
        />
      </mat-form-field>
      <mat-form-field class="w-full">
        <mat-label>Identity</mat-label>
        <input #identityRef [(ngModel)]="identity" name="identity" matInput type="text" readonly />
      </mat-form-field>
      <mat-form-field class="w-full">
        <mat-label>Website</mat-label>
        <input #websiteRef [(ngModel)]="website" name="website" matInput type="text" readonly />
      </mat-form-field>
      <mat-form-field class="w-full">
        <mat-label>Security contact</mat-label>
        <input
          #securityContactRef
          [(ngModel)]="security_contact"
          name="security_contact"
          matInput
          type="text"
          readonly
        />
      </mat-form-field>
      <mat-form-field class="w-full">
        <mat-label>Details</mat-label>
        <input #detailsRef [(ngModel)]="details" name="details" matInput type="text" readonly />
      </mat-form-field>
      <mat-form-field class="w-full">
        <mat-label>Rate</mat-label>
        <input #rateRef [(ngModel)]="rate" name="rate" matInput type="text" required readonly />
        <span matSuffix>%</span>
      </mat-form-field>

      <mat-form-field class="w-full">
        <mat-label>Min self delegation</mat-label>
        <input
          #minSelfDelegationRef
          [(ngModel)]="min_self_delegation"
          name="min_self_delegation"
          matInput
          type="text"
          required
          readonly
        />
      </mat-form-field>
      <mat-form-field class="w-full">
        <mat-label>Delegator address</mat-label>
        <input
          #delegatorAddressRef
          [(ngModel)]="delegator_address"
          name="delegator_address"
          matInput
          type="text"
          required
          readonly
        />
      </mat-form-field>
      <mat-form-field class="w-full">
        <mat-label>Validator address</mat-label>
        <input
          #validatorAddressRef
          [(ngModel)]="validator_address"
          name="validator_address"
          matInput
          type="text"
          required
          readonly
        />
      </mat-form-field>
      <mat-form-field class="w-full">
        <mat-label>Denom</mat-label>
        <input #denomRef [(ngModel)]="denom" name="denom" matInput type="text" required readonly />
      </mat-form-field>
      <mat-form-field class="w-full">
        <mat-label>Amount</mat-label>
        <input
          #amountRef
          [(ngModel)]="amount"
          name="amount"
          matInput
          type="text"
          required
          readonly
        />
      </mat-form-field>

      <h4 class="pt-3">Gas Settings</h4>
      <div class="flex flex-row content-content items-end">
        <mat-form-field class="flex-auto">
          <mat-label>Minimum Gas Denom</mat-label>
          <mat-select
            [(ngModel)]="minimumGasPrice && minimumGasPrice.denom"
            name="minimum-gas-denom"
            required
            (valueChange)="onMinimumGasDenomChanged($event)"
          >
            <mat-option
              *ngFor="let minimumGasPriceOption of minimumGasPrices"
              [value]="minimumGasPriceOption.denom"
            >
              {{ minimumGasPriceOption.denom }}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field class="flex-auto">
          <mat-label>Minimum Gas Price</mat-label>
          <input
            [(ngModel)]="minimumGasPrice && minimumGasPrice.amount"
            #minimumGasPriceRef
            name="minimum-gas-price"
            matInput
            type="number"
            [min]="0"
            required
            readonly
          />
        </mat-form-field>
      </div>
      <mat-slider
        class="w-full"
        [max]="1"
        [min]="0"
        [step]="0.015"
        [(ngModel)]="minimumGasPrice && minimumGasPrice.amount"
        name="minimum-gas-price-slider"
        disabled
      >
      </mat-slider>
    </mat-expansion-panel>
  </mat-accordion>

  <button class="mt-6" mat-flat-button color="accent" [disabled]="formRef.invalid">Send Tx</button>
</form>
